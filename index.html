<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Personaliza Tu Mundo</title>
  <!-- Fuente personalizada y favicon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,700&display=swap" rel="stylesheet">
  <style>
    /* RESET y estilos globales */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body, html {
      font-family: 'Raleway', sans-serif;
      background: #ffffff;
      color: #333;
      overflow-x: hidden;
    }
    
    /* Cabecera fija con fondo blanco */
    header {
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: 15px 30px;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    /* Botón menú estilo hamburguesa */
    .menu-btn {
      background: none;
      border: none;
      cursor: pointer;
      outline: none;
    }
    .menu-icon {
      width: 30px;
      height: 3px;
      background-color: #e60073;
      display: block;
      position: relative;
      transition: all 0.3s ease;
    }
    .menu-icon::before,
    .menu-icon::after {
      content: '';
      width: 30px;
      height: 3px;
      background-color: #e60073;
      position: absolute;
      left: 0;
      transition: all 0.3s ease;
    }
    .menu-icon::before {
      top: -10px;
    }
    .menu-icon::after {
      top: 10px;
    }
    
    /* Menú lateral desplegable que se cargará desde Airtable (campo "menu") */
    nav {
      position: fixed;
      top: 60px;
      right: -250px;
      background: #fff;
      width: 220px;
      box-shadow: -2px 0 5px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      padding: 20px;
      border-radius: 0 0 0 5px;
      z-index: 999;
    }
    nav ul {
      list-style: none;
    }
    nav ul li {
      margin-bottom: 15px;
    }
    nav ul li a {
      text-decoration: none;
      color: #e60073;
      font-weight: 600;
      transition: color 0.3s;
    }
    nav ul li a:hover {
      color: #b3004b;
    }
    nav.show {
      right: 0;
    }
    
    /* Carrusel Banner */
    .carousel {
      margin-top: 150px; /* espacio para la cabecera fija */
      position: relative;
      overflow: hidden;
      width: 100%;
      background: #fff;
    }
    .carousel-inner {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    .carousel-item {
      min-width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    /* Estilo para las imágenes en modo banner */
    .carousel-item img {
      width: 100%;
      height: 400px; /* Ajusta la altura según tus necesidades */
      object-fit: cover;
      border: none;
      box-shadow: none;
      transition: transform 0.3s;
      top: 20px; 
    }
 
    .carousel-item img:hover {
      transform: scale(1.05);
    }
    .carousel-control {
      position: absolute;
      top: 40%;
      transform: translateY(-50%);
      background: rgba(255,255,255,0.8);
      border: none;
      font-size: 24px;
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: background 0.3s;
      z-index: 5;
    }
    .carousel-control:hover {
      background: rgba(255,255,255,1);
    }
    .carousel-control.left {
      left: 20px;
    }
    .carousel-control.right {
      right: 20px;
    }
    
    /* Contenido principal */
    .content {
      padding: 40px 20px;
      text-align: center;
    }
    .content h1 {
      color: #e60073;
      margin-bottom: 20px;
      font-size: 2.5em;
    }
    .content p {
      font-size: 18px;
      line-height: 1.6;
      margin-bottom: 20px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
    }
    
    /* Footer */
    footer {
      background: #ffe6f2;
      padding: 20px;
      text-align: center;
      color: #e60073;
      font-weight: 600;
    }
    
    /* Media Queries para responsividad */
    @media (max-width: 768px) {
      header {
        padding: 10px 20px;
      }
      .menu-icon {
        width: 25px;
      }
      nav {
        width: 200px;
        top: 50px;
      }
      .content h1 {
        font-size: 2em;
      }
      .content p {
        font-size: 16px;
      }
      .carousel-item img {
        height: 300px;
      }
    }
    @media (max-width: 480px) {
      .carousel-control {
        width: 35px;
        height: 35px;
        font-size: 20px;
      }
      .carousel-item img {
        height: 250px;
      }
    }
    .header-links {
  margin-right: auto; /* Ubica estos enlaces a la izquierda de la cabecera */
  display: flex;
  gap: 20px;
  align-items: center;
}
.header-links a {
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  color: #e60073;
  font-weight: 600;
  transition: color 0.3s;
  gap: 8px; /* Espacio entre ícono y texto */
}
.header-links a:hover {
  color: #b3004b;
}
.header-links svg {
  flex-shrink: 0;
}

    
  </style>
</head>
<body>
 <!-- Cabecera (sin texto de logo) -->
 <header>
  <div class="header-links">
    <a href="contacto.html">
      <svg width="20" height="20" fill="none" stroke="#e60073" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="2" y="3" width="16" height="14" rx="2" ry="2"></rect>
        <path d="M2 3l8 7 8-7"></path>
      </svg>
      <span>Contacto</span>
    </a>
    <a href="about.html">
      <svg width="20" height="20" fill="none" stroke="#e60073" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="10" cy="10" r="9"></circle>
        <line x1="10" y1="13" x2="10" y2="10"></line>
        <line x1="10" y1="7" x2="10.01" y2="7"></line>
      </svg>
      <span>Sobre Nosotros</span>
    </a>
  </div>
  <button class="menu-btn" onclick="toggleMenu()">
    <span class="menu-icon"></span>
  </button>
</header>

  <!-- Menú lateral desplegable -->
  <nav id="dropdownMenu">
    <!-- El contenido se cargará dinámicamente -->
  </nav>
  
    <div id="bannerLogo" class="banner-logo" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%); z-index: 10;">
      <!-- Aquí se insertará el logo desde Airtable -->
    </div>
  <!-- Carrusel Banner con logo superpuesto -->
<div class="carousel" style="position: relative;">
    <!-- Contenedor del logo (se superpone al banner) -->
  
    
    <!-- Controles del carrusel -->
    <button class="carousel-control left" onclick="prevSlide()">&#10094;</button>
    <div class="carousel-inner" id="carouselInner">
      <!-- Aquí se inyectarán las imágenes de portada desde Airtable (los ejemplos se pueden eliminar) -->
      <div class="carousel-item">
        <img src="https://via.placeholder.com/300/FFC0CB/FFFFFF?text=Imagen+1" alt="Imagen 1">
      </div>
      <div class="carousel-item">
        <img src="https://via.placeholder.com/300/FFC0CB/FFFFFF?text=Imagen+2" alt="Imagen 2">
      </div>
      <div class="carousel-item">
        <img src="https://via.placeholder.com/300/FFC0CB/FFFFFF?text=Imagen+3" alt="Imagen 3">
      </div>
    </div>
    <button class="carousel-control right" onclick="nextSlide()">&#10095;</button>
  </div>
  
  <!-- Contenido principal -->
  <div class="content">
    <h1>Bienvenidos a Nuestra Tienda de Personalización</h1>
    <p>
      Aquí encontrarás productos únicos y hechos a medida: botellas, llaveros y regalos sorpresa personalizados con detalle y mucho amor. Descubre la magia de tener un artículo que refleje tu estilo.
    </p>
    <!-- Puedes agregar secciones adicionales según tus necesidades -->
  </div>
  
  
  <!-- Footer -->
  <footer>
    &copy; 2025   ♥Detalles que cuentan historias♥.
  </footer>
  
  <script>
    // Función para alternar el menú lateral
    function toggleMenu() {
      const menu = document.getElementById('dropdownMenu');
      menu.classList.toggle('show');
    }
    
    // Variables para el carrusel
    let currentSlide = 0;
    const carouselInner = document.getElementById('carouselInner');
    let totalSlides = document.querySelectorAll('.carousel-item').length;
    
    function showSlide(index) {
      if (index >= totalSlides) {
        currentSlide = 0;
      } else if (index < 0) {
        currentSlide = totalSlides - 1;
      } else {
        currentSlide = index;
      }
      carouselInner.style.transform = 'translateX(' + (-currentSlide * 100) + '%)';
    }
    
    function nextSlide() {
      showSlide(currentSlide + 1);
    }
    
    function prevSlide() {
      showSlide(currentSlide - 1);
    }
    
    // Función para cargar imágenes desde Airtable usando Token de autenticación
    async function loadCarouselImages() {
    const airtableApiKey = 'patygcsH0vq1IXBGs.2ba9bfa1d43b68cd1b2c95d0d799e97038e80ab9388d6f87e071efbe6ec18bd4';
    const baseId = 'appx4eD3f7NINswZW';
    
    // Lee el parámetro "tabla" desde la URL; si no existe, usa 'Eli Gift' por defecto
    const urlParams = new URLSearchParams(window.location.search);
    const tableName = urlParams.get('tabla') || 'Eli Gift';
    console.log("Cargando imágenes para la tabla:", tableName);
    
    // Construye la URL de consulta usando el nombre de tabla obtenido
    const url = `https://api.airtable.com/v0/${baseId}/${encodeURIComponent(tableName)}?fields[]=portada&fields[]=logo&fields[]=menu`;
    console.log("URL de consulta:", url);
    
    try {
      const response = await fetch(url, {
        headers: {
          Authorization: 'Bearer ' + airtableApiKey
        }
      });
      const data = await response.json();
      
      // Referencias a los contenedores
      const bannerLogo = document.getElementById('bannerLogo');
      const carouselInner = document.getElementById('carouselInner');
      const dropdownMenu = document.getElementById('dropdownMenu');
      
      // Limpia contenidos previos
      bannerLogo.innerHTML = "";
      carouselInner.innerHTML = "";
      dropdownMenu.innerHTML = "";
      
      if (data && data.records && data.records.length > 0) {
        data.records.forEach(record => {
          // Inserta el logo (si existe) - se usa el primero
          if (record.fields.logo && Array.isArray(record.fields.logo) && record.fields.logo.length > 0 && bannerLogo.innerHTML === "") {
            const logoImg = document.createElement('img');
            logoImg.src = record.fields.logo[0].url;
            logoImg.alt = 'Logo';
            logoImg.style.width = '150px';
            bannerLogo.appendChild(logoImg);
          }
          
          // Inserta las imágenes del carrusel desde el campo "portada"
          if (record.fields.portada && Array.isArray(record.fields.portada)) {
            record.fields.portada.forEach(image => {
              const carouselItem = document.createElement('div');
              carouselItem.className = 'carousel-item';
              const img = document.createElement('img');
              img.src = image.url;
              img.alt = record.fields.name || 'Imagen de portada';
              carouselItem.appendChild(img);
              carouselInner.appendChild(carouselItem);
            });
          }
          
          // Inserta el menú si existe en el campo "menu"
          if (record.fields.menu) {
            let menuItems = [];
            if (record.fields.menu.indexOf('\n') !== -1) {
              menuItems = record.fields.menu.split('\n').filter(item => item.trim() !== '');
            } else {
              menuItems = [record.fields.menu];
            }
            
            const ul = document.createElement('ul');
            menuItems.forEach(item => {
              const li = document.createElement('li');
              const a = document.createElement('a');
              const menuItem = item.trim();
              
              // Si la opción es "Contacto" o "Sobre Nosotros", redirige a las páginas correspondientes.
              // Para el resto, redirige a contenido.html pasando el nombre de la opción como parámetro.
              if (menuItem === 'Contacto') {
                a.href = 'contacto.html';
              } else if (menuItem === 'Sobre Nosotros') {
                a.href = 'about.html';
              } else {
                a.href = 'contenido.html?tabla=' + encodeURIComponent(menuItem);
              }
              a.textContent = menuItem;
              li.appendChild(a);
              ul.appendChild(li);
            });
            dropdownMenu.appendChild(ul);
          } else {
            console.log("No se encontró el campo 'menu' en este registro.");
          }
        });
        
        totalSlides = document.querySelectorAll('.carousel-item').length;
        if (totalSlides > 0) {
          showSlide(0);
        } else {
          carouselInner.innerHTML = "<p style='text-align:center;width:100%;'>No se encontraron imágenes.</p>";
        }
      } else {
        console.error("No se encontraron registros en la respuesta de Airtable.");
        carouselInner.innerHTML = "<p style='text-align:center;width:100%;'>No se encontraron imágenes.</p>";
      }
    } catch (error) {
      console.error('Error al cargar datos desde Airtable:', error);
      document.getElementById('carouselInner').innerHTML = "<p style='text-align:center;width:100%; color:red;'>Error al cargar imágenes.</p>";
    }
  }
  
  document.addEventListener('DOMContentLoaded', loadCarouselImages);
  </script>
</body>
</html>